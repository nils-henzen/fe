<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="FeChat.MessagesWindow"
        Title="Messages"
        Width="700" Height="500"
        MinWidth="500" MinHeight="400"
        WindowStartupLocation="CenterScreen"
        Background="#F5F5F5">

    <Window.Styles>
        <Style Selector="Button">
            <Setter Property="Background" Value="#0078D4"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="12,6"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>

        <Style Selector="Button:pointerover">
            <Setter Property="Background" Value="#106EBE"/>
        </Style>

        <Style Selector="ListBox">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="6"/>
        </Style>
    </Window.Styles>

    <Grid RowDefinitions="Auto,*,Auto" Margin="20">

        <!-- Header -->
        <Grid Grid.Row="0" ColumnDefinitions="*,Auto" Margin="0,0,0,15">
            <TextBlock Grid.Column="0"
                       Text="Your Messages"
                       FontSize="24"
                       FontWeight="SemiBold"
                       Foreground="#202020"
                       VerticalAlignment="Center"/>
            <Button Grid.Column="1"
                    Name="RefreshButton"
                    Content="â†» Refresh"
                    FontSize="14"/>
        </Grid>

        <!-- Messages List -->
        <ScrollViewer Grid.Row="1" Margin="0,0,0,15">
            <ListBox Name="MessagesListBox"
                     SelectionMode="Single"
                     Background="White"
                     Padding="10">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <Border Background="#FAFAFA"
                                BorderBrush="#E0E0E0"
                                BorderThickness="1"
                                CornerRadius="6"
                                Padding="12"
                                Margin="0,4">
                            <Grid RowDefinitions="Auto,Auto,Auto">
                                <Grid Grid.Row="0" ColumnDefinitions="*,Auto" Margin="0,0,0,8">
                                    <TextBlock Grid.Column="0"
                                               Text="{Binding SenderId}"
                                               FontWeight="SemiBold"
                                               FontSize="14"
                                               Foreground="#0078D4"/>
                                    <TextBlock Grid.Column="1"
                                               Text="{Binding Timestamp}"
                                               FontSize="12"
                                               Foreground="#707070"/>
                                </Grid>
                                <TextBlock Grid.Row="1"
                                           Text="{Binding DisplayText}"
                                           TextWrapping="Wrap"
                                           FontSize="13"
                                           Foreground="#202020"
                                           Margin="0,0,0,4"/>
                                <TextBlock Grid.Row="2"
                                           Text="{Binding FileName}"
                                           FontSize="11"
                                           Foreground="#909090"
                                           IsVisible="{Binding FileName, Converter={x:Static ObjectConverters.IsNotNull}}"/>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </ScrollViewer>

        <!-- Status Bar -->
        <Border Grid.Row="2"
                Background="White"
                BorderBrush="#E0E0E0"
                BorderThickness="1"
                CornerRadius="6"
                Padding="12">
            <TextBlock Name="StatusTextBlock"
                       Text="Ready"
                       FontSize="12"
                       Foreground="#505050"/>
        </Border>

    </Grid>

</Window>

